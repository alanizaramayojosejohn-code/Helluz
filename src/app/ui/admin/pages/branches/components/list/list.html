<div class="min-h-screen">
   <div class="max-w-7xl mx-auto bg-white p-4">
      <div class="flex justify-between items-center mb-8">
         <h1 class="text-4xl font-bold text-red-500">Gesti√≥n de Sucursales</h1>
         <button
            (click)="onCreateBranch()"
            class="bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-semibold transition"
         >
            + Nuevo Producto
         </button>
      </div>

      @if (branches$ | async; as branches) {
         @if (branches.length > 0) {
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
               @for (branch of branches; track branch.id) {
                  <div
                     class="bg-white shadow-sm shadow-black rounded-lg overflow-hidden hover:border-gray-600 transition"
                  >
                     <div class="p-4">
                        <div class="flex justify-between items-start mb-2">
                           <h3 class="text-2xl font-bold text-red-600">{{ branch.name }}</h3>
                           <span
                              [class.bg-green-600]="branch.status === 'activo'"
                              [class.bg-gray-600]="branch.status === 'inactivo'"
                              class="text-sm text-white px-2 py-1 rounded"
                           >
                              {{ branch.status }}
                           </span>
                        </div>

                        <p class="text-gray-600 text-sm text-center mb-3 line-clamp-2">{{ branch.city }}</p>

                        <div class="flex justify-between items-center mb-4">
                           <span class="text-lg text-black"> {{ branch.ip }}</span>
                        </div>

                        <div>
                           <span class="text-lg py-1 rounded"> {{ branch.mask }}</span>
                        </div>

                        <div class="flex gap-2 mt-4">
                           <button
                              class="text-black hover:text-red-500 hover:bg-slate-100 mr-3 border-none rounded-full bg-white"
                              (click)="onViewDetail(branch.id!)"
                              mat-icon-button
                              matTooltip="Ver detalle"
                           >
                              <mat-icon>visibility</mat-icon>
                           </button>
                           <button
                              class="text-black bg-white hover:text-red-500 hover:bg-slate-100 mr-3 border-none rounded-full"
                              (click)="onEditBranch(branch.id!)"
                              mat-icon-button
                              matTooltip="Editar"
                           >
                              <mat-icon>edit</mat-icon>
                           </button>
                           <button
                              class="text-red-500 bg-white hover:text-white hover:bg-red-500 border-none rounded-full"
                              (click)="deleteBranch(branch)"
                              mat-icon-button
                              matTooltip="Editar"
                           >
                              <mat-icon>delete</mat-icon>
                           </button>
                        </div>
                     </div>
                  </div>
               }
            </div>
         }
      }
   </div>
</div>
<!--        <button
                           class="text-blue-600 hover:text-blue-900 mr-3"
                           (click)="onViewDetail(membership)"
                           mat-icon-button
                           matTooltip="Ver detalle"
                        >
                           <mat-icon>visibility</mat-icon>
                        </button>
                        <button
                           class="text-indigo-600 hover:text-indigo-900"
                           (click)="onEditMembership(membership)"
                           mat-icon-button
                           matTooltip="Editar"
                        >
                           <mat-icon>edit</mat-icon>
                        </button>
                  -->
