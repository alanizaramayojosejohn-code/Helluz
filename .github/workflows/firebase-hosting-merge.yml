name: Deploy to Firebase Hosting on merge

on:
   push:
      branches:
         - main

jobs:
   build_and_deploy:
      runs-on: ubuntu-latest

      steps:
         - uses: actions/checkout@v4

         # ðŸ‘‡ instalar bun
         - uses: oven-sh/setup-bun@v1

         # ðŸ‘‡ instalar dependencias
         - run: bun install

         # ðŸ‘‡ build angular
         - run: bun run build

         # ðŸ‘‡ deploy
         - uses: FirebaseExtended/action-hosting-deploy@v0
           with:
              repoToken: ${{ secrets.GITHUB_TOKEN }}
              firebaseServiceAccount: ${{ secrets.FIREBASE_SERVICE_ACCOUNT_HELLUZ }}
              channelId: live
              projectId: helluz
